{
  {
  "dataset": {
    "type": "image",
    "uri": "file://path/to/data",
    "ops": [
      {
        "class": "Resize",
        "args": {
          "shape": [49, 40]
        }
      },
      {
        "class": "Grayscale",
        "args": {}
      },
      {
        "class": "Normalization",
        "args": {
          "shift": 0,
          "scale": 255
        }
      }
    ]
  },
  "model": {
    "name": "tll-demo-model",
    "inputDims": [245, 200, 3],
    "outputDims": [2048],
    "layerConfig": [
      {"type":"model","class":"ResNet50","name":"base_model","inputDims":[245, 200, 3],"outputDims":[2048],"layerConfigs":"auto","ckpt":"file://path/to/pretrainedWeights"},
      {"type":"model","class":"BoltzBitDGNN","name":"tll_generative","inputDims":[245, 200, 3],"outputDims":[2048],"layerConfigs":"auto"},
      {"type":"layer","class":"Add","name":"embedding_merge","inputDims":[2048],"outputDims":[2048]}
    ]
  },
  "training": {
    "batch_size": 100,
    "infer": "auto",
    "train": {
      "data": 1000,
      "save_period": 100,
      "logging_period": 10,
      "losses": [
        {
          "class": "TripletMarginLoss",
          "args": {
            "distance": "cosine",
            "margin": 0.2
          }
        },
        {
          "class": "PixelRecon",
          "args": {
            "type": "l2",
            "temperature": 1.0
          }
        }
      ],
      "optimizer": {
          "class": "Adam",
          "learning_rate_init": 5e-3,
          "learning_rate_change_points": 200,
          "learning_rate_change_values": 0.99,
          "learning_rate_inf_init": 5e-3,
          "learning_rate_inf_change_points": 200,
          "learning_rate_inf_change_values": 0.99
      }
    },
    "dataloader": {
        "trn_tst_split": 1.0,
        "shuffle": true,
        "repeat": false
    }
  },
  "evaluation": {
    "metrics": [
      {
        "class": "TripletMarginLoss",
        "args": {
          "distance": "cosine",
          "margin": 0.2
        }
      },
      {
        "class": "PixelRecon",
        "args": {
          "type": "l2",
          "temperature": 1.0
        }
      }
    ]
  }
  "datasetId": "61c32270e13340046a69e053"
}
